/*
A Whole New World 아두이노 오르골
begin 2022-12-03
메트로늄 기호 사분음표 56개
*/

#define Buzzer 3
#define term 4286

const float f2 = 87.3071;
const float c3 = 130.8128, d3 = 146.8324, e3 = 164.8138, f3 = 174.6141, g3 = 195.9977, a3 = 220.0, b3 = 246.9417;

const float aS3 = 233.0819;
const float c4 = 261.6256, d4 = 293.6648, e4 = 329.6276, f4 = 349.2282, g4 = 391.9954, a4 = 440.0, b4 = 493.8833;
const float cS4 = 227.1826, dS4 = 312.1170, fS4 = 369.9944, aS4 = 466.1638;
const float c5 = 523.2511, d5 = 587.3295, e5 = 659.2551, f5 = 698.4565, g5 = 783.9909, a5 = 880.0, b5 = 987.7666;
const float cS5 = 553.3653, fS5 = 739.9888, gS5 = 830.6094, aS5 = 932.3275;
const float c6 = 1146.502, d6 = 1174.659, e6 = 1318.510, f6 = 1396.913, g6 = 1567.982, a6 = 1760.0;
const float cS6 = 1108.731, fS6 = 1479.978, gS6 = 1661.219, aS6 =1864.655;

typedef struct _NOTE {
    float melody;
    float tempo;
}NOTE;

const PROGMEM NOTE NoteSong[] = {
    {a5,4},{g4,4},{fS4,16/3},{a4,16},{fS5,16},{g4,16},{e5,8},
    {d5,4},{g4,4},{fS4,4},{e4,4},
    {a5,4},{g4,4},{fS4,16/3},{a4,16},{fS5,16},{g4,16},{e5,16},{fS4,16},
    {d5,4},{g4,4},{fS4,4}, //1-1  간주

    {fS4,8},{e4,16},{g4,8},{fS4,16},{d4,16},{a3,16/7},
    {fS4,8},{e4,16},{g4,8},{fS4,16},{d4,8},{fS4,4},{e4,4},
    {e4,8},{dS4,16},{fS4,8},{e4,8},{cS4,16},{e4,8},{d4,8},{cS4,8},{d4,8}, //1-2

    {b3,16},{cS4,8},{e4,4},{d4,16},{cS4,16/7},
    {fS4,8},{e4,16},{g4,8},{fS4,16},{d4,8},{a3,2},
    {fS4,8},{e4,16},{g4,8},{fS4,16},{d4,8},{fS4,4},{e4,4}, //1-3

    {e4,8},{dS4,16},{fS4,8},{e4,8},{cS4,16},{e4,8},{d4,8},{cS4,8},{d4,8},
    {b3,16},{cS4,8},{e4,8},{d4,8},{fS4,4},{fS4,16},{g4,8},{a4,8}, //1-4

    {a4,2},{fS4,16},{g4,8},{b4,8},
    {a4,8},{e4,16},{g4,16/3},{fS4,16},{fS4,16/5},{fS4,12},{a4,12},{g4,12},
    {cS5,8},{b4,8},{a4,8},{d4,16},{cS5,8},{b4,16},{a4,4},{d4,16},// 2-1

    {fS4,8},{e4,16},{d4,16/3},{a3,16},{e4,4},{fS4,16},{g4,8},{a4,8},
    {a4,2},{fS4,16},{g4,8},{b4,8},
    {a4,8},{e4,16},{g4,16/3},{fS4,16},{fS4,16/5},{fS4,12},{a4,12},{g4,12}, //2-2 

    {cS5,8},{b4,8},{a4,8},{d4,16},{cS5,8},{b4,16},{a4,4},{d4,16},
    {fS4,8},{e4,8},{d4,8},{e4,8},{fS4,8},{d4,16/3},{cS4,16},
    {d4,16},{e4,8},{g4,8},{fS4,8},{b4,8},{a4,8},{e5,4},{d5,16}, //2-3

    {c5,8},{g4,16},{aS4,8},{a4,16},{fS4,8},{c4,16/3},{c5,16},{a5,16},{aS4,16},{g5,16},{a4,16},
    {f5,8},{g4,16},{aS4,16},{a4,16},{f4,8},{a4,4},{g4,4},
    {g4,8},{fS4,16},{a4,8},{g4,8},{e4,16},{g4,8},{f4,6},{e4,16},{f4,16}, //2-4

    {d4,16,},{e4,16},{g4,8},{f4,8},{a4,4},{a4,16},{aS4,8},{d5,8},
    {c5,12},{a4,12},{aS4,12},{a4,12},{g4,12},{f4,12},{c5,16/3},{a4,16},{aS4,8},{d5,8},
    {c5,8},{g4,16},{aS4,16/3},{a4,16},{a4,16/5},{a4,12},{aS4,12},{c5,12}, //2-5
    
    {e5,8},{d5,8},{c5,16/3},{f4,16},{e5,8},{d5,16},{c5,4},{f4,16},
    {a4,8},{g4,8},{f4,8},{g4,8},{aS4,8},{a4,8},{aS4,8},{d5,8},
    {c5,12},{a4,12},{aS4,12},{a4,12},{g4,12},{f4,12},{c5,16/3},{a4,16},{aS4,8},{d5,8}, //3-1

    {c5,8},{g4,16},{aS4,16/3},{a4,8},{a4,4},{a4,12},{aS4,12},{c5,12},
    {e5,8},{d5,8},{c5,16/3},{f4,16},{e5,8},{f5,16},{c5,16/5},
    {a4,8},{g4,8},{f4,8},{g4,8},{aS4,8},{a4,8},{f4,16/3},{e4,16}, //3-2

    {f4,2},{c4,8},{a3,8},{aS3,8},{d4,8},
    {c4,8},{0,16},{a4,16},{aS4,8},{d5,8},{c5,8},{0,16},{a3,16},{aS3,8},{d4,8},
    {c4,8},{0,16},{a4,16},{aS4,8},{d5,8},{c5,8},{0,16},{a3,16},{aS3,16},{d4,16/3}, //3-3

    {c4,8},{0,16},{a4,16},{aS4,16},{d5,16/3},{c5,8},{0,16},{c4,16},{a4,8},{g4,16},{f4,16},
    {a4,8},{g4,16},{aS4,8},{a4,16},{f4,8},{c4,16/3},{c5,16},{a5,16},{aS4,16},{g5,16},{a4,16},
    {f4,8},{g4,16},{aS4,8},{a4,16},{f4,8},{a5,2}, //3-4
};

void setup() {
    pinMode(Buzzer,OUTPUT);
    pinMode(4,OUTPUT);
    digitalWrite(4,1);
    
    for(int i=0; i<(sizeof(NoteSong)/sizeof(NoteSong[0])); i++ ) {
      float _melody = pgm_read_float(&NoteSong[i].melody);
      float _tempo = pgm_read_float(&NoteSong[i].tempo);
        tone(Buzzer,_melody,term/_tempo);
        delay(term/_tempo*1.1);
    }
    
};

void loop() {};
